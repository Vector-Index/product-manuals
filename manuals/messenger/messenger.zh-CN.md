# 基于网页的即时通讯应用程序手册

欢迎使用您的基于网页的即时通讯应用程序用户手册。本指南将帮助您了解所有可用的设置和功能，以便您充分利用您的消息体验。

## 设置概述

本节介绍基于网页的即时通讯应用程序中各种设置选项。

### 用户名
- **描述**：用户名字段允许您设置或更新当前的用户名。这是其他用户在与您互动时看到的名字。
- **用法**：在输入字段中输入您想要的用户名。

### 缓存（消息数量）
- **描述**：此设置决定在您的设备上本地存储多少条消息。消息保存在 `localStorage` 中，以提供持久性，这意味着即使刷新或关闭应用程序，您的聊天记录仍然可用。
- **用法**：输入要缓存的消息数量（例如，20）。默认值为 `20` 条消息。

### 隐藏加密消息
- **描述**：此选项允许您完全隐藏加密的消息。
- **用法**：选中此选项时，加密的消息将在用户界面中隐藏。取消选中此选项可以查看加密消息，但如果没有正确的解密密钥，它们将不可读。

### 生成密钥对
- **描述**：生成用于端到端加密的公钥/私钥对，以便在用户之间进行安全通信。
- **用法**：点击钥匙图标（🔑）生成新的密钥对。生成的密钥对不会保存，如果希望使用端到端加密，每次启动即时通讯应用程序时都需要重新生成。这是确保隐私和安全通信的关键。

### 选择用户（安全通道）
- **描述**：此设置允许您选择希望通过安全通道通信的用户。
- **用法**：下拉菜单包含当前聊天室中已生成密钥对的用户列表。通过选择特定用户，您将使用他们的公钥加密消息。或者，如果选择“使用公共频道”，您的消息将使用整个聊天室的共享对称密钥进行加密。拥有共享密钥的用户可以解密您的消息。

### 选择主题
- **描述**：允许您更改应用程序的外观以适应您的偏好。
- **用法**：使用下拉菜单选择所需的主题。默认情况下，选择的是“默认”主题。点击“添加更多主题”（🎨）可以浏览和添加更多主题选项。

### 启用 Eval
- **描述**：此选项启用 `eval()` 函数，允许您在发送消息之前将其作为 JavaScript 代码进行评估。
- **用法**：选中时，应用程序将在发送前使用 `eval(msg)` 评估消息。请注意，此功能没有安全防护，因此启用它可能会带来风险。这就是为什么此选项旁边有感叹号（⚠）以提醒用户。

### 代理设置
- **描述**：此设置允许您配置代理 URL 来中继 API 请求。这主要用于启用“启用 Eval”设置时，应用程序需要进行 CORS 启用的请求。
- **用法**：在提供的文本字段中输入代理 URL。默认 URL 是 `https://api.codetabs.com/`。如果留空，系统可能无法按预期工作，具体取决于浏览器的安全限制。

## 使用应用程序

### 发送消息
1. **输入您的消息**：在文本输入字段中输入您的消息。
2. **加密您的消息**（可选）：如果您已经生成了密钥对，可以在发送前加密消息。从“选择用户”下拉菜单中选择收件人，以使用他们的公钥进行加密。
3. **发送消息**：点击“发送”按钮传递您的消息。

### 附加文件
- 使用“选择文件”按钮从本地系统中选择文件并将其附加到您的消息中。
- 选择文件后，点击“发送”以传递消息和附加文件。

### 加密选项
- 应用程序提供公钥/私钥对的端到端加密以及用于群组聊天的对称加密模式。请确保生成密钥对以启用安全通信。

## 安全注意事项
- **加密**：应用程序支持使用公钥/私钥对的浏览器到浏览器加密。用户需自行生成密钥对以启用此功能。
- **Eval 功能**：启用 eval 功能存在潜在的安全风险，因为它允许将消息评估为代码。建议仅在完全了解其含义和潜在风险的情况下使用此功能。

## 常见问题

### 如果我关闭浏览器会怎样？
- 您缓存的消息（根据“缓存”中设置的数量）将在 `localStorage` 中保留，供下次会话使用。

### 我可以恢复我的密钥对吗？
- 不行，密钥对不会以任何形式保存。每次会话都需要重新生成密钥对。

### 如何启用安全消息传递？
- 使用“生成密钥对”选项生成密钥对，并从“选择用户”下拉菜单中选择目标收件人。消息将使用收件人的公钥进行加密。

## 故障排除

### 无法发送消息
- **检查您的互联网连接**：确保您有稳定的互联网连接。
- **加密问题**：确认您已生成密钥对，如果您尝试发送加密消息。此外，请确认目标用户在安全通道下拉菜单中可用。

### 消息未显示
- 如果加密消息不可见，请确保未选中“隐藏加密消息”设置。

## 联系支持
如果您有任何其他问题或疑问，请通过应用程序主界面中的“帮助”按钮联系我们的支持团队。

---

感谢您使用我们的基于网页的即时通讯应用程序！我们希望本手册能帮助您有效地导航和利用所有可用功能。保持安全，聊天愉快！

